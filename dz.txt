Мини дз "Страховая компания"
Нам необходимо создать страховую компанию "Java insurance".
Данная компания будет работать в двух странах: в Японии и в Бразилии.
У стран разные валюты, цены и самое главное вероятности наступления страхового события.
Нам нужно разработать приложение, которое в зависимости от выбранной страны, будет использовать разные механизмы
подсчета стоимости страховок.

1. Создать spring boot проект, в котором будет lombok и плагин чекстайла. groupId - com.javacademy, artifactId - insurance
2. Создать класс Страховой договор. Поля: номер договора, стоимость страховки, сумма покрытия, валюта договора, ФИО клиента, страна действия, тип страховки: медицинское страхование или защита от грабежа, статусы договора:  неоплаченный договор, оплаченный договор.
3. Создать класс Архив. В нем хранятся все договора, в формате: номер договора -> договор. Номер договора уникален.
4. Создать класс Генератор номеров договоров: отвечает за создание нового номера договора. Формат номера договора текстовый, генерацию придумываете сами.
5. Создать интерфейс InsuranceCalcService, который будет возвращать стоимость страховки. На вход сумма покрытия, тип страховки.
6. Создать интерфейс InsuranceService, который:
6.1. отвечает за выдачу предложения страховки (на вход сумма покрытия, фио клиента, тип страховки) - на выход страховой договор (статус неоплачен). Созданный договор должен быть помещен в архив.
6.2. отвечает за оплату страховки (на вход номер договора) - на выход страховой договор с измененным статусом: оплаченный договор. Если договора нет, выкидывается ошибка: такого договора несуществует.

7. Создать две реализации InsuranceCalcService:
7.1 InsuranceCalcJapanService создается только для запуска приложения в Японии.
Реализация расчета стоимости страховки:
Для грабежа: умножает сумму покрытия на 0.01 (коэффициент грабежа) и прибавляет 10 000.
Для Медицинской страховки: умножает сумму покрытия для на 0.015 (коэффициент мед случая) и прибавляет 12 000.
7.2 InsuranceCalcBrazilService создается только для запуска приложения в Бразилии.
Реализация расчета стоимости страховки:
Для грабежа: умножает сумму покрытия на 0.05 (коэффициент грабежа) и прибавляет 300.
Для Медицинской страховки: умножает сумму покрытия для на 0.03 (коэффициент мед случая) и прибавляет 800.

8.   Создать две реализации InsuranceService:
8.1 InsuranceServiceJapan - будет создаваться только для запуска приложения в Японии.
Реализация выдачи предложения страховки. Выдается страховой договор: номер из генератора номеров договоров, стоимость страховки из калькулятора, сумма покрытия которая пришла в метод, валюта - йена, фио - пришедшее значение в метод, страна действия - Japan, тип - пришедшее значение из метода, статус: неоплаченный договор.
8.2 InsuranceServiceBrazil - будет создаваться только для запуска приложения в Бразилии.
Реализация выдачи предложения страховки. Выдается страховой договор: номер из генератора номеров договоров, стоимость страховки из калькулятора, сумма покрытия которая пришла в метод, валюта - реал, фио - пришедшее значение в метод, страна действия - Brazil, тип - пришедшее значение из метода, статус: неоплаченный договор.

9. Валюта, страна, коэффициент мед случая и грабежа должны быть вынесены в ресурсы.

10. Создать тесты с поднятием тестового контекста (активируя соответствующие профили):
10.1 Покрыть тестами InsuranceCalcJapanServicе
Ситуация №1: Рассчитать стоимость страховки при грабеже, сумма покрытия 1 000 000. Ожидаемая стоимость: 20 000.
Ситуация №2: Рассчитать стоимость страховки при мед страховке, сумма покрытия 10 000 000. Ожидаемая стоимость: 165 000.
10.2 Покрыть тестами InsuranceCalcBrazilService
Ситуация №1: Рассчитать стоимость страховки при грабеже, сумма покрытия 50 000. Ожидаемая стоимость: 2800.
Ситуация №2: Рассчитать стоимость страховки при мед страховке, сумма покрытия 200 000. Ожидаемая стоимость: 6800.
10.3 Покрыть тестами InsuranceServiceJapan (калькулятор, архив, генератор номеров договоров - фальшивые)
Ситуация №1: Получить предложение по страховке, на вход: Иванов Иван Иванович, сумма покрытия 1 000 000, тип - от грабежа.
На выход страховка:
номер договора - 001 - получено от генератора номеров договоров
стоимость страховки - 20 000  - получено от заглушки калькулятора
сумма покрытия - 1 000 000
валюта договора - yen
ФИО клиента - Иванов Иван Иванович
страна действия - Japan
тип страховки: защита от грабежа
статусы договора:  неоплаченный договор

Ситуация №2: Получить предложение по страховке, на вход: Иванов Иван Иванович, сумма покрытия 1 000 000, тип - от грабежа.
На выход страховка:
номер договора - 001 - получено от заглушки архива
стоимость страховки - 165 000  - получено от заглушки калькулятора
сумма покрытия - 10 000 000
валюта договора - yen
ФИО клиента - Иванов Иван Иванович
страна действия - Japan
тип страховки: мед страховка
статусы договора:  неоплаченный договор

Ситуация №3: Оплатить страховку, на вход: номер договора - 001.
Из заглушки архива получаем договор (т.е. создаем сами такой договор и заставляем архив вернуть такой договор):
номер договора - 001
стоимость страховки - 165 000
сумма покрытия - 10 000 000
валюта договора - yen
ФИО клиента - Иванов Иван Иванович
страна действия - Japan
тип страховки: мед страховка
статусы договора:  неоплаченный договор

На выход из метода оплаты страховки получаем:
Из заглушки архива получаем договор:
 номер договора - 001 - получено от заглушки архива
стоимость страховки - 165 000  - получено от заглушки калькулятора
сумма покрытия - 10 000 000
валюта договора - yen
ФИО клиента - Иванов Иван Иванович
страна действия - Japan
тип страховки: мед страховка
статусы договора:  оплаченный договор (!)

